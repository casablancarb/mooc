.container
  .page-header
    %h1
      Exercise
      %small
        = @exercise.title

  .row
    .col-md-12
      %iframe{ width:'100%', height:'500', src:"//www.youtube.com/embed/#{@exercise.video_id}", frameborder:'0', allowfullscreen:'true' }

  %hr

  %ul.nav.nav-tabs
    %li.active
      %a{href:'#about', :'data-toggle' => 'tab'} About
    %li
      %a{href:'#questions', :'data-toggle' => 'tab'} Questions
    %li
      %a{href:'#comments', :'data-toggle' => 'tab'}
        = @exercise.comments.length
        Comments

  .tab-content
    .tab-pane#about.active
      %p.lead
        = @exercise.description
      = link_to 'Leave feedback', new_exercise_feedback_path(@exercise),
        class: 'btn btn-info'

    .tab-pane#questions
      - if @exercise.questions.length > 0
        = render 'questions_forms'
      - else
        %p
          This exercise currently has no questions. Please check back soon :)

    .tab-pane#comments
      - if @exercise.comments.length > 0
        .list-group
        - @exercise.comments.each do |comment|
          .well.comment{ :data => {:user_role => comment.user_role } }
            %p
              = comment.body
            %p
              %small
                Posted by
                %b
                  = comment.author

      .row
        .col-md-6
          = render 'comments/form'

